<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Feud Game</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas&family=Poppins:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((reg) => console.log('Service Worker registered.', reg))
                    .catch((err) => console.log('Service Worker registration failed.', err));
            });
        }
    </script>
</head>

<body>

    <div class="intro-overlay" id="intro-overlay">
        <div class="intro-card">
            <h1 id="intro-title">Christmas Feud</h1>
            <p id="intro-tagline">Holiday trivia fun for everyone</p>
            <div class="intro-actions">
                <button id="start-game-btn">Yarışmaya Başla</button>
                <button id="intro-howto-btn">Nasıl oynanır?</button>
                <button id="intro-language-btn">Dil seçimi</button>
            </div>
        </div>
    </div>



    <div class="game-container">
        <!-- Header -->
        <header class="main-header">
            <div class="title-card">
                <img class="tree-icon" src="christmas-tree.svg" width="24" height="24" alt="Christmas tree icon">
                <span id="game-title">Christmas Feud</span>
            </div>
            <div class="round-indicator">
                <h2><span id="round-label">Round</span> <span id="current-round">1</span>/<span
                        id="round-total">5</span></h2>
            </div>
            <div class="header-buttons">
                <button id="show-answers-btn">Show Answers</button>
                <button id="help-btn">
                    <span class="help-full">How to play?</span>
                    <span class="help-short">?</span>
                </button>
            </div>
        </header>

        <div class="content-area">
            <!-- Main Game Area (Left) -->
            <main class="game-board">
                <div class="question-card">
                    <h2 id="question-text">Name something you might find on a Christmas tree.</h2>
                </div>
                <div class="answers-grid" id="answers-grid">
                    <!-- Answer cards will be dynamically generated by JavaScript -->
                </div>
            </main>

            <!-- Side Panel (Right) -->
            <aside class="side-panel">
                <!-- Santa Team Card -->
                <div class="team-card santa-team" id="santa-team-card">
                    <div class="team-header">
                        <h3 id="santa-team-label">Santa Team</h3>
                        <span class="score" id="santa-score">0</span>
                    </div>
                    <div class="strikes-container" id="santa-strikes">
                        <span class="strike">X</span>
                        <span class="strike">X</span>
                        <span class="strike">X</span>
                    </div>
                </div>

                <!-- Elf Team Card -->
                <div class="team-card elf-team" id="elf-team-card">
                    <div class="team-header">
                        <h3 id="elf-team-label">Elf Team</h3>
                        <span class="score" id="elf-score">0</span>
                    </div>
                    <div class="strikes-container" id="elf-strikes">
                        <span class="strike">X</span>
                        <span class="strike">X</span>
                        <span class="strike">X</span>
                    </div>
                </div>

                <!-- Round Points Area -->
                <div class="round-points-area">
                    <div class="round-points-header">
                        <h3 id="round-points-label">Round Points</h3>
                        <div class="points-display" id="round-points-total">0</div>
                    </div>
                    <div class="round-points-buttons">
                        <button id="points-to-santa">Points to Santa</button>
                        <button id="points-to-elf">Points to Elf</button>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="help-title">How to play?</h2>
            <div id="help-steps"></div>
        </div>
    </div>

    <!-- Language Modal -->
    <div id="language-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="language-modal-title">Choose a language</h2>
            <div id="language-list" class="language-list"></div>
        </div>
    </div>

    <!-- Show Answers Warning Modal -->
    <div id="show-answers-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="show-answers-title">Prepare to reveal answers</h2>
            <p id="show-answers-body">Answers will be shown. Non-admin players should close their eyes. The host can
                take a photo to check guesses later.</p>
            <div class="modal-actions">
                <button id="show-answers-cancel">Cancel</button>
                <button id="show-answers-confirm">Reveal</button>
            </div>
        </div>
    </div>

    <!-- Host Instruction Modal -->
    <div id="host-instruction-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="host-modal-title">Host Instructions</h2>
            <p id="host-modal-body">Please appoint a game host and form two teams. The host will view the answers,
                reveal correct guesses on the board, and mark strikes for incorrect answers.</p>
            <div class="modal-actions">
                <button id="host-modal-confirm">Continue</button>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="game-over-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="game-over-title">Game Over</h2>
            <p id="game-over-body">Merry Christmas! Thanks for playing.</p>
            <div class="modal-actions">
                <button id="game-over-close">Close</button>
            </div>
        </div>
    </div>

    <script src="questions-en.js"></script>
    <script src="questions-de.js"></script>
    <script src="questions-fr.js"></script>
    <script src="questions-es.js"></script>
    <script src="questions-it.js"></script>
    <script src="questions-pt.js"></script>
    <script src="script.js"></script>
</body>

</html>